'use strict';

var _enzyme = require('enzyme');

var _enzymeToJson = require('enzyme-to-json');

var _enzymeToJson2 = _interopRequireDefault(_enzymeToJson);

var _react = require('react');

var React = _interopRequireWildcard(_react);

var _MemoryRouter = require('react-router/MemoryRouter');

var _MemoryRouter2 = _interopRequireDefault(_MemoryRouter);

var _index = require('./index');

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('withParams', function () {
    it('should extract a single param', function () {
        var ShowName = (0, _index.withParams)({ params: 'name', match: '/user/:name' })(function (_ref) {
            var name = _ref.name;
            return React.createElement(
                'span',
                null,
                name
            );
        });
        var wrapper = (0, _enzyme.render)(React.createElement(
            _MemoryRouter2.default,
            { initialEntries: ['/user/ben'] },
            React.createElement(ShowName, null)
        ));
        expect((0, _enzymeToJson2.default)(wrapper)).toMatchSnapshot();
    });
    it('should extract multiple params', function () {
        var ShowIdAndName = (0, _index.withParams)({ params: ['id', 'name'], match: '/user/:id/:name' })(function (_ref2) {
            var id = _ref2.id,
                name = _ref2.name;
            return React.createElement(
                'span',
                null,
                id,
                ' - ',
                name
            );
        });
        var wrapper = (0, _enzyme.render)(React.createElement(
            _MemoryRouter2.default,
            { initialEntries: ['/user/1/ben'] },
            React.createElement(ShowIdAndName, null)
        ));
        expect((0, _enzymeToJson2.default)(wrapper)).toMatchSnapshot();
    });
    it('should extract params with exactly false', function () {
        var ShowIdAndName = (0, _index.withParams)({
            params: ['id', 'name'],
            match: '/user/:id/:name',
            exactly: false
        })(function (_ref3) {
            var id = _ref3.id,
                name = _ref3.name;
            return React.createElement(
                'span',
                null,
                id,
                ' - ',
                name
            );
        });
        var wrapper = (0, _enzyme.render)(React.createElement(
            _MemoryRouter2.default,
            { initialEntries: ['/user/1/ben/the/third'] },
            React.createElement(ShowIdAndName, null)
        ));
        expect((0, _enzymeToJson2.default)(wrapper)).toMatchSnapshot();
    });
    it('should extract a single query parameter', function () {
        var Display = (0, _index.withParams)({
            queryParams: 'next',
            match: '/users'
        })(function (_ref4) {
            var next = _ref4.next;
            return React.createElement(
                'span',
                null,
                next
            );
        });
        var wrapper = (0, _enzyme.render)(React.createElement(
            _MemoryRouter2.default,
            { initialEntries: ['/users?next=/login'] },
            React.createElement(Display, null)
        ));
        expect((0, _enzymeToJson2.default)(wrapper)).toMatchSnapshot();
    });
    it('should extract multiple query parameters', function () {
        var Display = (0, _index.withParams)({
            queryParams: ['next', 'timestamp'],
            match: '/users'
        })(function (_ref5) {
            var next = _ref5.next,
                timestamp = _ref5.timestamp;
            return React.createElement(
                'span',
                null,
                next,
                ' - ',
                timestamp
            );
        });
        var wrapper = (0, _enzyme.render)(React.createElement(
            _MemoryRouter2.default,
            { initialEntries: ['/users?next=/login&timestamp=1489995623368'] },
            React.createElement(Display, null)
        ));
        expect((0, _enzymeToJson2.default)(wrapper)).toMatchSnapshot();
    });
});
//# sourceMappingURL=index.test.js.map
